<html>

<head>
    <script>
        var data = [];
        var dataImg;
        fetch('./assets/info.json')
            .then(response => response.json())
            .then(data => {
                allSongs = data;
                //console.table(allSongs)
                var allSongsOutput = document.getElementById("allSongs");



                for (var i = 0; i < allSongs.length - 1; i++) {
                    this.data.push(allSongs[i].artiste + " : " + allSongs[i].chanson);

                    // var image = new Image(); ඞ…
                    // image.src = allSongs[i].image; ඞ…
                    // output.appendChild(image); ඞ…
                }
            });
        //console.log(data);

        var addedData = [];

        function addToAddedData(element) {
            addedData.push(element);
            displayAddedData();
        }

        function removeFromAddedData(element) {
            var index = addedData.indexOf(element);
            addedData.splice(index, 1);
            displayAddedData();
        }

        function displayData() {
            var dataList = document.getElementById("data-list");
            for (var i = 0; i < data.length; i++) {
                var item = document.createElement("li");
                item.innerHTML = data[i];
                item.onclick = function () {
                    addToAddedData(this.innerHTML);
                };
                dataList.appendChild(item);
            }
        }

        function displayAddedData() {
                var addedDataList = document.getElementById("added-data-list");
                addedDataList.innerHTML = "";
                for (var i = 0; i < addedData.length; i++) {
                    var item = document.createElement("li");
                    var deleteButton = document.createElement("button");
                    deleteButton.innerHTML = "Supprimer";
                    deleteButton.onclick = function() {
                        removeFromAddedData(item.innerHTML);
                    };
                    item.innerHTML = addedData[i];
                    item.appendChild(deleteButton);
                    addedDataList.appendChild(item);


                }
            }

        console.table(addedData);
        window.onload = displayData;
        
    </script>
</head>

<body>
    <h2>All songs:</h2>
    <ul id="data-list"></ul>
    <h2>playlist:</h2>
    <ul id="added-data-list"></ul>
    <div id="output"></div>
    <!-- ------------------------------------------------------------------------------------------------------------------------------- -->
    <!-- <button type="button" onclick="AddSong()">+</button> ඞ…
    <div id="allSongs"></div> ඞ…
    <div id="playlist"></div> ඞ…
    <script>
        // 2 tablo un vide et un avec toutes les musiques  ඞ…
        // et on bouge d'un list a l'autre
        var allSongs = [];
        var myPlaylist = []; ඞ…

        fetch('./assets/info.json')
            .then(response => response.json()) ඞ…
            .then(data => {
                allSongs = data;
                console.table(allSongs)
                var allSongsOutput = document.getElementById("allSongs");

                for (var i = 0; i < allSongs.length - 1; i++) {
                    allSongsOutput.innerHTML += allSongs[i].artiste + " : " + allSongs[i].chanson + "<br>";
                } ඞ…
            });
 
        function AddSong(text) { ඞ…
            var data = [];
            data.push(text); ඞ…
            document.getElementById("playlist").innerHTML = data.join("<br>");
        }
    </script> -->
</body>

</html>